= Skrypty
:page-en: Scripting
ifdef::env-github[:imagesdir: /en/modules/ROOT/assets/images]

Skrypt to sekwencja poleceń wykonywanych jedno po drugim.

GeoGebra obsługuje dwa języki skryptowe - GGBScript i Javascript. Skrypty możesz wprowadzać w zakładce _Skrypty_ 
image:16px-Menu-options.svg.png[Menu-options.svg,width=16,height=16] xref:/Okno_Ustawień_Obiektu.adoc[okna Ustawienia]
obiektu, dla którego chcesz przypisać skrypt.

[NOTE]
====

Okno _Ustawienia_ musi być zamknięte, aby skrypty działały.

====

Różne obiekty obsługują różne typy skryptów; uruchamianie skryptów może być wywołane przez:

* kliknięcie określonego obiektu (zakładka _Przy kliknięciu_)
* aktualizację obiektu (gdy zmienia się jego wartość lub właściwości) (zakładka _Po zmianie_)
* zmianę zawartości pola wprowadzania (zakładka _Przy zmianie_)
* zwolnienie przycisku myszy (lub oderwanie palca od ekranu na urządzeniu dotykowym) po przeciągnięciu obiektu
(zakładka _Po przesunięciu_)
* wczytanie pliku (dla JavaScript - zakładka _Globalnie Javascript_)
* rejestratory zdarzeń Javascript (patrz xref:en@reference::/GeoGebra_Apps_API.adoc[Specyfikacja API (ang.)])

Różnica między skryptami _Po zmianie_ i _Przy zmianie_ w przypadku pola wprowadzania polega na tym, że jeśli skrypt jest wpisany w zakładce
_Po zmianie_, to wykonuje się dopiero po utracie fokusu przez pole (np. po kliknięciu przycisku, w Widoku Grafiki itp.), natomiast skrypt w
zakładce _Przy zmianie_ uruchamiany jest natychmiast po każdej zmianie zawartości pola, nawet gdy nadal masz w nim fokus.

[NOTE]
====

* Zobacz zastosowanie skryptów _Po zmianie_ i _Przy zmianie_ dla pola tekstowego:  https://www.geogebra.org/m/bek5uqah 
* Zobacz zastosowanie skryptu _Po przesunięciu_ dla przemieszczanego punktu: https://www.geogebra.org/m/kxgvyqvj

====

== GGBScript

Możesz tworzyć skrypty składające się z poleceń GeoGebry, tak jak w xref:/Pole_Wprowadzania.adoc[polu wprowadzania].
Po wywołaniu skryptu każde polecenie wykonywane jest kolejno w tej samej kolejności, w jakiej zostało zapisane.

[EXAMPLE]
====

* _a_ jest xref:/tools/Suwak.adoc[suwakiem] o wartościach całkowitych od 1 do 3 (Krok jest równy 1)
* Wpisz: `++l1 = {"red", "green", "blue"}++`
* w Ustawieniach _a_, ustaw skrypt "Po zmianie" `++UstawKolor(a, Element(l1, a))++`
* teraz, przesuwając suwak, zmieniasz jego kolor.

====

*Wyjaśnienie:* Za każdym razem, gdy przesuwasz suwak, następuje jego aktualizacja. Wtedy skrypt jest wywoływany, a wartość _a_ 
wybiera kolor z listy i przypisuje go suwakowi.

[NOTE]
====

Możesz użyć znaku `++#++`, aby rozpocząć w skrypcie komentarz

====

[NOTE]
====

*image:18px-Bulbgraph.png[Note,title="Note",width=18,height=22] Wskazówka:* Niektóre polecenia są dostępne tylko dla skryptów. 
Ich lista znajduje się na stronie xref:/commands/Skrypty_Polecenia.adoc[Skrypty Polecenia].

====

== JavaScript

JavaScript to język programowania wykorzystywany przez wiele technologii internetowych. W przeciwieństwie do GGBScript, 
w JavaScript nie musisz wykonywać poleceń tylko w prostej sekwencji – możesz używać struktur sterujących (`++if++`, `++while++`, `++for++`). 
Ogólny kurs JavaScript znajdziesz na stronie https://developer.mozilla.org/en/JavaScript/Guide[developer.mozilla.org]. 
W GeoGebrze możesz używać specjalnych metod JavaScript pozwalających na modyfikowanie konstrukcji. Metody te należą do obiektu ggbApplet, co oznacza, 
że wywołujesz je w formie: `++ggbApplet.method_name(parameter,..,parameter)++`.Pełna lista metod jest dostępna w
xref:en@reference::/GeoGebra_Apps_API.adoc[Specyfikacji API (ang.)].

[EXAMPLE]
====

....
for(var i =0;i<10;i++) 
   ggbApplet.evalCommand("A_"+i+"=(random()*10,random()*10)");
....

Skrypt tworzy 10 punktów od _A~0~_ do _A~9~_ o losowych współrzędnych.

====

[NOTE]
====

Skrypty w JavaScript są bardzo wszechstronne, ale wiele zadań można wykonać prostszym GGBScript.

====

=== Globalnie JavaScript

W części _Globalnie JavaScript_ zakłądki _Skrypty_ w
image:16px-Menu-options.svg.png[Menu-options.svg,width=16,height=16] _oknie Ustawienia_ możesz definiować *funkcje* 
(ale nie zmienne), które będą dostępne w innych skryptach. Możesz także zdefiniować funkcję _ggbOnInit(name, api)_, która uruchamia się automatycznie po wczytaniu konstrukcji. 
Funkcja _ggbOnInit_ może być użyta np. do tworzenia _rejestratorów zdarzeń_, jak w przykładzie:

[EXAMPLE]
====

....
function onAdd(name){
    alert("Został dodany obiekt o nazwie "+name+".");
}

function ggbOnInit(name, api){
    api.registerAddListener("onAdd");
}
....

Najpierw zdefiniowaliśmy funkcję _onAdd_ tóra dla podanego ciągu znaków wyświetla komunikat zależny od tej wartości. Następnie, za pomocą funkcji
_ggbOnInit_, poleciliśmy GeoGebrze wywoływać tę funkcję przy dodaniu nowego obiektu. Po ponownym załadowaniu konstrukcji, gdy użytkownik doda np. punkt
_A_, , pojawi się komunikat: "Został dodany obiekt o nazwie A.".

====

Możesz także korzystać z _rejestratorów zdarzeń_ podczas zmiany nazwy, usuwania czy czyszczenia konstrukcji. Pełna lista dostępna jest w
xref:en@reference::/GeoGebra_Apps_API.adoc[Specyfikacji API (ang.)].

[NOTE]
====

Używanie metod ggbApplet w _Globalnie JavaScript_ poza funkcją ggbOnInit nie będzie działać poprawnie, ponieważ są one wywoływane przed załadowaniem konstrukcji.

====
